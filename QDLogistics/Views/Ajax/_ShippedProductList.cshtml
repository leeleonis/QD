@using QDLogistics.Models;
@{ Packages package = ViewBag.package; }

<table class="text-center hidden">
    <tbody>
        @{
            foreach (Items item in package.Items.Where(i => i.IsEnable == true).ToList())
            {
                for (int i = 0; i < item.Qty; i++)
                {
                    <tr class="datagrid-row">
                        <td width="24"><div class="datagrid-cell"></div></td>
                        <td><div class="datagrid-cell-check"><!--<input type="checkbox" name="ck" value="">--></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-OrderID"></div></td>
                    </tr>
                }

                if (item.KitItemCount > 0)
                {
                    foreach (BundleItems bundle in item.BundleItems.ToList())
                    {
                        <tr class="datagrid-row">
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    }
                }
            }
        }
    </tbody>
</table>
<table class="text-center">
    <tbody class="datagrid-body">
        @{
            foreach (Items item in package.Items.Where(i => i.IsEnable == true).ToList())
            {
                List<SerialNumbers> serialNumbers = item.SerialNumbers.OrderBy(s => s.SerialNumber).ToList();
                for (int i = 0; i < item.Qty; i++)
                {
                    if (serialNumbers.Any())
                    {
                        item.SerialNumber = serialNumbers.Skip(i).FirstOrDefault().SerialNumber;
                    }
                    <tr class="datagrid-row">
                        <td><div class="datagrid-cell datagrid-cell-c1-PaymentDate"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-Sku">@item.ProductID</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-DisplayName">@item.DisplayName</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-OrderQtyTotal">1</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-ShippingCountry"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-Warehouse"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-ShippingMethod"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-Export"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-ExportMethod"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-StatusCode"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-Comment"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-SerialNumber">@item.SerialNumber</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-TrackingNumber"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-UploadTracking"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-WorkDays"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-FirstMilePickupDate"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-FirstMileArrivalDate"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-ScanDateA"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-ScanDateB"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-DeliveryStatus"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-ArrivalDate"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-DispatchTime"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-TransitTime"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-RedirectWarehouse"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-RMA"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-Download"></div></td>
                    </tr>
                }

                if (item.KitItemCount > 0)
                {
                    foreach (BundleItems bundle in item.BundleItems.ToList())
                    {
                        <tr class="datagrid-row">
                            <td><div class="datagrid-cell datagrid-cell-c1-PaymentDate"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-Sku">@bundle.ProductID</div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-DisplayName">@bundle.Skus.ProductName</div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-OrderQtyTotal">@bundle.Qty</div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-ShippingCountry"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-Warehouse"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-ShippingMethod"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-Export"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-ExportMethod"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-StatusCode"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-Comment"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-SerialNumber"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-TrackingNumber"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-UploadTracking"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-WorkDays"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-FirstMilePickupDate"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-FirstMileArrivalDate"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-ScanDateA"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-ScanDateB"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-DeliveryStatus"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-ArrivalDate"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-DispatchTime"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-TransitTime"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-RedirectWarehouse"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-RMA"></div></td>
                            <td><div class="datagrid-cell datagrid-cell-c1-Download"></div></td>
                        </tr>
                    }
                }
            }
        }
    </tbody>
</table>
