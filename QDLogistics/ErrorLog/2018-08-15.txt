ActionName : PO【17518】更新失敗
Message : System.Web.Services.Protocols.SoapException: Server was unable to process request. ---> System.Exception: Product  doesnt exists. Failed to get clientid of the product
   at BVSoftware.BVC.Core.ContactServices.Vendors.VendorProducts.AddProduct(VendorProduct vp) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\ContactServices.vb:line 1782
   at BVSoftware.BVC.Core.InventoryServices.PurchaseOrder.EnsureVendorProductRecords(Purchase po) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\InventoryServices.vb:line 1887
   at BVSoftware.BVC.Core.InventoryServices.PurchaseOrder.UpdatePurchaseOrderOnly(Purchase p) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\InventoryServices.vb:line 1520
   at BVSoftware.BVC.Core.InventoryServices.PurchaseOrder.Update(Purchase p) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\InventoryServices.vb:line 1366
   at BRSWebServices.POServices.UpdatePurchaseOrder(Purchase po) in C:\DATA\Core\Framework\BRSWebServices\POServices.asmx.vb:line 109
   --- End of inner exception stack trace ---
StackTrace : Server stack trace: 
   at System.ServiceModel.Channels.ServiceChannel.HandleReply(ProxyOperationRuntime operation, ProxyRpc& rpc)
   at System.ServiceModel.Channels.ServiceChannel.Call(String action, Boolean oneway, ProxyOperationRuntime operation, Object[] ins, Object[] outs, TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage methodCall, ProxyOperationRuntime operation)
   at System.ServiceModel.Channels.ServiceChannelProxy.Invoke(IMessage message)

Exception rethrown at [0]: 
   at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg)
   at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgData, Int32 type)
   at QDLogistics.PurchaseOrderService.POServicesSoap.UpdatePurchaseOrder(UpdatePurchaseOrderRequest request)
   at QDLogistics.Commons.SyncProcess.Update_PurchaseOrder(Int32 PackageID, Boolean needUpload) in C:\QD Project\Order Shipping System\QDLogistics\Commons\SyncProcess.cs:line 549
Date : 8/15/2018 10:07:29 AM

-----------------------------------------------------------------------------

ActionName : PO【17519】更新失敗
Message : System.Web.Services.Protocols.SoapException: Server was unable to process request. ---> System.Exception: Product  doesnt exists. Failed to get clientid of the product
   at BVSoftware.BVC.Core.ContactServices.Vendors.VendorProducts.AddProduct(VendorProduct vp) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\ContactServices.vb:line 1782
   at BVSoftware.BVC.Core.InventoryServices.PurchaseOrder.EnsureVendorProductRecords(Purchase po) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\InventoryServices.vb:line 1887
   at BVSoftware.BVC.Core.InventoryServices.PurchaseOrder.UpdatePurchaseOrderOnly(Purchase p) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\InventoryServices.vb:line 1520
   at BVSoftware.BVC.Core.InventoryServices.PurchaseOrder.Update(Purchase p) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\InventoryServices.vb:line 1366
   at BRSWebServices.POServices.UpdatePurchaseOrder(Purchase po) in C:\DATA\Core\Framework\BRSWebServices\POServices.asmx.vb:line 109
   --- End of inner exception stack trace ---
StackTrace : Server stack trace: 
   at System.ServiceModel.Channels.ServiceChannel.HandleReply(ProxyOperationRuntime operation, ProxyRpc& rpc)
   at System.ServiceModel.Channels.ServiceChannel.Call(String action, Boolean oneway, ProxyOperationRuntime operation, Object[] ins, Object[] outs, TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage methodCall, ProxyOperationRuntime operation)
   at System.ServiceModel.Channels.ServiceChannelProxy.Invoke(IMessage message)

Exception rethrown at [0]: 
   at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg)
   at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgData, Int32 type)
   at QDLogistics.PurchaseOrderService.POServicesSoap.UpdatePurchaseOrder(UpdatePurchaseOrderRequest request)
   at QDLogistics.Commons.SyncProcess.Update_PurchaseOrder(Int32 PackageID, Boolean needUpload) in C:\QD Project\Order Shipping System\QDLogistics\Commons\SyncProcess.cs:line 549
Date : 8/15/2018 10:07:33 AM

-----------------------------------------------------------------------------

ActionName : PO【17520】更新失敗
Message : System.Web.Services.Protocols.SoapException: Server was unable to process request. ---> System.Exception: Product  doesnt exists. Failed to get clientid of the product
   at BVSoftware.BVC.Core.ContactServices.Vendors.VendorProducts.AddProduct(VendorProduct vp) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\ContactServices.vb:line 1782
   at BVSoftware.BVC.Core.InventoryServices.PurchaseOrder.EnsureVendorProductRecords(Purchase po) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\InventoryServices.vb:line 1887
   at BVSoftware.BVC.Core.InventoryServices.PurchaseOrder.UpdatePurchaseOrderOnly(Purchase p) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\InventoryServices.vb:line 1520
   at BVSoftware.BVC.Core.InventoryServices.PurchaseOrder.Update(Purchase p) in C:\DATA\Core\Framework\BVSoftware.BVC.Core\InventoryServices.vb:line 1366
   at BRSWebServices.POServices.UpdatePurchaseOrder(Purchase po) in C:\DATA\Core\Framework\BRSWebServices\POServices.asmx.vb:line 109
   --- End of inner exception stack trace ---
StackTrace : Server stack trace: 
   at System.ServiceModel.Channels.ServiceChannel.HandleReply(ProxyOperationRuntime operation, ProxyRpc& rpc)
   at System.ServiceModel.Channels.ServiceChannel.Call(String action, Boolean oneway, ProxyOperationRuntime operation, Object[] ins, Object[] outs, TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage methodCall, ProxyOperationRuntime operation)
   at System.ServiceModel.Channels.ServiceChannelProxy.Invoke(IMessage message)

Exception rethrown at [0]: 
   at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg)
   at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgData, Int32 type)
   at QDLogistics.PurchaseOrderService.POServicesSoap.UpdatePurchaseOrder(UpdatePurchaseOrderRequest request)
   at QDLogistics.Commons.SyncProcess.Update_PurchaseOrder(Int32 PackageID, Boolean needUpload) in C:\QD Project\Order Shipping System\QDLogistics\Commons\SyncProcess.cs:line 549
Date : 8/15/2018 10:07:37 AM

-----------------------------------------------------------------------------

ActionName : 同步1天訂單資料失敗
Message : 更新實體時發生錯誤。如需詳細資料，請參閱內部例外狀況。
StackTrace : 於 System.Data.Entity.Internal.InternalContext.SaveChanges()
   於 System.Data.Entity.Internal.LazyInternalContext.SaveChanges()
   於 System.Data.Entity.DbContext.SaveChanges()
   於 QDLogistics.Models.Repositiry.GenericRepository`1.SaveChanges() 於 C:\QD Project\Order Shipping System\QDLogistics\Models\Repositiry\GenericRepository.cs: 行 88
   於 QDLogistics.Commons.OrderPreset.Save() 於 C:\QD Project\Order Shipping System\QDLogistics\Commons\OrderPreset.cs: 行 78
   於 QDLogistics.Commons.SyncProcess.Sync_Orders(Int32 day) 於 C:\QD Project\Order Shipping System\QDLogistics\Commons\SyncProcess.cs: 行 162
Date : 2018/8/15 下午 02:22:21
Inner Message : System.Data.Entity.Core.UpdateException: 更新實體時發生錯誤。如需詳細資料，請參閱內部例外狀況。 ---> System.Data.SqlClient.SqlException: UPDATE 陳述式與 FOREIGN KEY 條件約束 "FK_Packages_FirstMile" 衝突。衝突發生在資料庫 "QDLogistics"，資料表 "dbo.ShippingMethod", column 'ID'。
陳述式已經結束。
   於 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   於 System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   於 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   於 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   於 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   於 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   於 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   於 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   於 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   於 StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteNonQuery() 於 c:\TeamCity\buildAgent\work\a743336045964cbc\StackExchange.Profiling\Data\ProfiledDbCommand.cs: 行 264
   於 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.<NonQuery>b__0(DbCommand t, DbCommandInterceptionContext`1 c)
   於 System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext,TResult](TTarget target, Func`3 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   於 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.NonQuery(DbCommand command, DbCommandInterceptionContext interceptionContext)
   於 System.Data.Entity.Internal.InterceptableDbCommand.ExecuteNonQuery()
   於 System.Data.Entity.Core.Mapping.Update.Internal.DynamicUpdateCommand.Execute(Dictionary`2 identifierValues, List`1 generatedValues)
   於 System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   --- 內部例外狀況堆疊追蹤的結尾 ---
   於 System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   於 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.<Update>b__2(UpdateTranslator ut)
   於 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update[T](T noChangesResult, Func`2 updateFunction)
   於 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update()
   於 System.Data.Entity.Core.Objects.ObjectContext.<SaveChangesToStore>b__35()
   於 System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   於 System.Data.Entity.Core.Objects.ObjectContext.SaveChangesToStore(SaveOptions options, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction)
   於 System.Data.Entity.Core.Objects.ObjectContext.<>c__DisplayClass2a.<SaveChangesInternal>b__27()
   於 System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   於 System.Data.Entity.Core.Objects.ObjectContext.SaveChangesInternal(SaveOptions options, Boolean executeInExistingTransaction)
   於 System.Data.Entity.Core.Objects.ObjectContext.SaveChanges(SaveOptions options)
   於 System.Data.Entity.Internal.InternalContext.SaveChanges()

-----------------------------------------------------------------------------

ActionName : 同步1天訂單資料失敗
Message : 更新實體時發生錯誤。如需詳細資料，請參閱內部例外狀況。
StackTrace : 於 System.Data.Entity.Internal.InternalContext.SaveChanges()
   於 System.Data.Entity.Internal.LazyInternalContext.SaveChanges()
   於 System.Data.Entity.DbContext.SaveChanges()
   於 QDLogistics.Models.Repositiry.GenericRepository`1.SaveChanges() 於 C:\QD Project\Order Shipping System\QDLogistics\Models\Repositiry\GenericRepository.cs: 行 88
   於 QDLogistics.Commons.SyncProcess.Sync_Orders(Int32 day) 於 C:\QD Project\Order Shipping System\QDLogistics\Commons\SyncProcess.cs: 行 151
Date : 2018/8/15 下午 02:29:20
Inner Message : System.Data.Entity.Core.UpdateException: 更新實體時發生錯誤。如需詳細資料，請參閱內部例外狀況。 ---> System.Data.SqlClient.SqlException: 無法插入 NULL 值到資料行 'FirstMile'，資料表 'QDLogistics.dbo.Packages'; 資料行不得有 Null。INSERT 失敗。
陳述式已經結束。
   於 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   於 System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   於 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   於 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   於 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   於 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   於 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   於 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   於 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   於 StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteNonQuery() 於 c:\TeamCity\buildAgent\work\a743336045964cbc\StackExchange.Profiling\Data\ProfiledDbCommand.cs: 行 264
   於 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.<NonQuery>b__0(DbCommand t, DbCommandInterceptionContext`1 c)
   於 System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext,TResult](TTarget target, Func`3 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   於 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.NonQuery(DbCommand command, DbCommandInterceptionContext interceptionContext)
   於 System.Data.Entity.Internal.InterceptableDbCommand.ExecuteNonQuery()
   於 System.Data.Entity.Core.Mapping.Update.Internal.DynamicUpdateCommand.Execute(Dictionary`2 identifierValues, List`1 generatedValues)
   於 System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   --- 內部例外狀況堆疊追蹤的結尾 ---
   於 System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   於 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.<Update>b__2(UpdateTranslator ut)
   於 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update[T](T noChangesResult, Func`2 updateFunction)
   於 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update()
   於 System.Data.Entity.Core.Objects.ObjectContext.<SaveChangesToStore>b__35()
   於 System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   於 System.Data.Entity.Core.Objects.ObjectContext.SaveChangesToStore(SaveOptions options, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction)
   於 System.Data.Entity.Core.Objects.ObjectContext.<>c__DisplayClass2a.<SaveChangesInternal>b__27()
   於 System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   於 System.Data.Entity.Core.Objects.ObjectContext.SaveChangesInternal(SaveOptions options, Boolean executeInExistingTransaction)
   於 System.Data.Entity.Core.Objects.ObjectContext.SaveChanges(SaveOptions options)
   於 System.Data.Entity.Internal.InternalContext.SaveChanges()

-----------------------------------------------------------------------------

